<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Metrics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An image generator with 20+ metrics about your GitHub account such as activity, community, repositories, coding habits, website performances, music played, starred topics, etc. that you can put on your profile or elsewhere !">
    <meta name="author" content="lowlighter">
    <meta property="og:image" content="/static/opengraph.png">
    <link rel="icon" href="/static/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
  </head>
  <body x-data="data" class="bg-neutral-950 text-white">
    <!-- Header -->
    <header class="bg-neutral-900 sticky top-0 z-50" :class="{'bg-amber-700':dev}">
      <div class="h-16 flex items-center px-4 lg:px-8">
        <!-- Metrics version -->
        <a class="text-xl" href="/">
          <span>
            Metrics <span x-text="version"></span>
            <template x-if="dev">
              <sub class="bg-amber-900 rounded-full px-1.5 py-0.5 text-sm">dev</sub>
            </template>
          </span>
        </a>
        <div class="flex flex-1 items-center justify-end md:justify-between">
          <div class="hidden md:block"></div>
          <div class="flex items-center gap-4">
            <div class="hidden flex md:flex gap-4">
              <template x-if="user?.login">
                <div class="relative">
                  <!-- User profile -->
                  <div class="h-full px-2 flex items-center rounded-md cursor-pointer transition hover:bg-neutral-950" :class="{'bg-neutral-950':$store.menu.header.user}" @click="$store.menu.header.user = !$store.menu.header.user">
                    <img :src="user.avatar" class="h-8 w-8 rounded-full object-cover mr-2">
                    <span class="font-bold" x-text="user.login"></span>
                  </div>
                  <!-- User menu actions -->
                  <template x-if="$store.menu.header.user">
                    <div class="w-56 absolute end-0 mt-1 rounded-md border border-neutral-800 bg-neutral-900 shadow-lg">
                      <div class="p-2">
                        <a href="/login/review" class="flex items-center rounded-md px-5 py-2.5 transition hover:bg-neutral-950">
                          <x-octicon class="mr-2" x-data="{icon:'key'}"></x-octicon>
                          Review permissions
                        </a>
                        <a href="/login/revoke" class="flex items-center rounded-md px-5 py-2.5 transition hover:bg-neutral-950">
                          <x-octicon class="mr-2" x-data="{icon:'sign-out'}"></x-octicon>
                          Sign-out
                        </a>
                      </div>
                    </div>
                  </template>
                </div>
              </template>
              <!-- Sign-in with GitHub -->
              <template x-if="(user)&&(!user.login)">
                <a href="/login" class="bg-neutral-950 flex items-center rounded-md px-5 py-2.5 transition hover:bg-neutral-800 hover:text-sky-500">
                  <x-octicon class="mr-1" x-data="{icon:'github'}"></x-octicon>
                  Sign-in with GitHub
                </a>
              </template>
              <!-- Remaining requests -->
              <template x-if="ratelimit?.error === null">
                <div class="flex flex-col items-center text-xs">
                  <div class="flex justify-between w-full"><b class="mr-4">REST</b><span x-text="ratelimit.core"></span></div>
                  <div class="flex justify-between w-full"><b class="mr-4">GraphQL</b><span x-text="ratelimit.graphql"></span></div>
                  <div class="flex justify-between w-full"><b class="mr-4">Search</b><span x-text="ratelimit.search"></span></div>
                </div>
              </template>
            </div>
            <!-- Mobile menu /TODO/ -->
            <button class="opacity-0 md:hidden bg-neutral-950 block rounded-md p-2.5 transition hover:bg-neutral-800" @click="$store.menu.header.collapse = !$store.menu.header.collapse">
              <x-octicon class="h-5 w-5" x-data="{icon:'menu'}"></x-octicon>
            </button>
          </div>
        </div>
      </div>
    </header>

    <main>
        <!-- About -->
        <section class="relative overflow-hidden">
          <div class="container mx-auto px-2 pt-32 pb-32 ">
            <h1 class="text-4xl">Craft your profile infographic</h1>
            <p class="mt-2 text-zinc-400 md:whitespace-pre-line">
              With a large choice of plugins, processors and options.
              Share them anywhere!
            </p>
          </div>
          <template x-if="!dev">
            <div class="absolute top-0 right-0 w-2/4 flex gap-2 origin-center -z-10 opacity-75" style="transform: rotateX(50deg) rotateZ(40deg) translate(-25%, -25%); transform-style: preserve-3d;" x-data="{imgs:[
              '/octocat?mock=true&plugins=[{calendar:{view:isometric}}]',
              '/octocat?mock=true&plugins=[{rss:{feed:https://news.ycombinator.com/rss}}]',
              '/octocat?mock=true&plugins=[{lines:{}}]',
              '/octocat?mock=true&plugins=[{calendar:{view:top-down,colors:winter}}]',
            ]}">
              <template x-for="i in [0, 1]">
                <div class="w-2/4" :key="i">
                  <template x-for="(img, j) in imgs.filter((_, j) => (j%2) === i)">
                    <div class="bg-white rounded-lg shadow p-4 mb-2" :key="j">
                      <img :src="img" alt="">
                    </div>
                  </template>
                </div>
              </template>
            </div>
          </template>
          <div class="absolute bottom-0 w-full h-40 bg-gradient-to-t from-neutral-950 to-transparent z-40"></div>
        </section>

        <!-- Dev environment -->
        <template x-if="dev">
          <section class="container mx-auto my-8 px-2">
            <div class="rounded-md bg-amber-300 border border-amber-900 text-amber-700 p-2">
              <h2 class="text-2xl mb-4">üöß Development environment</h2>
              <p class="px-2 md:whitespace-pre-line"><!--
              -->Metrics is currently in running in a development environment.
                Some features may not be available.
              </p>
            </div>
          </section>
        </template>

        <!-- Invalid token -->
        <template x-if="ratelimit?.error === 401">
          <section class="container mx-auto my-8 px-2">
            <div class="rounded-md bg-amber-300 border border-amber-900 text-amber-700 p-2">
              <h2 class="text-xl">‚ö†Ô∏è GitHub API token is invalid</h2>
            </div>
          </section>
        </template>

        <!-- Craft mode -->
        <template x-if="true">
          <section class="container mx-auto px-2 my-8">
            <h2 class="text-2xl mb-4">1Ô∏è‚É£ Choose a way to generate infographics</h2>
            <fieldset class="grid grid-cols-1 md:grid-cols-3 gap-8">
              <template x-data="{modes:[
                {value:'web', name:'Web URL', description:'Create a shareable link that you can embed anywhere'},
                {value:'actions', name:'GitHub Actions', description:'Generate a GitHub Actions workflow for your repository'},
                {value:'server', name:'Deploy', description:'Create a configuration file for self-hosted solutions'},
              ]}" x-for="{value, name, description} in modes">
                <div :key="value">
                  <input type="radio" name="state.mode" :id="`state.mode@${value}`" :value="value" class="peer hidden" @input="$store.craft.setMode($event)"/>
                  <label :for="`state.mode@${value}`" class="block bg-neutral-900 border border-neutral-800 rounded-md px-5 py-2.5 cursor-pointer transition hover:bg-neutral-800 peer-checked:border-sky-500">
                    <div class="flex items-center text-sky-500">
                      <x-octicon x-data="{icon:value}"></x-octicon>
                      <span class="ml-1" x-text="name"></span>
                    </div>
                    <p class="mt-1 text-zinc-400" x-text="description"></p>
                  </label>
                </div>
              </template>
            </fieldset>
          </section>
        </template>

        <!-- Global settings -->
        <template x-if="$store.craft.state.mode">
          <section class="container mx-auto px-2 my-8">
            <h2 class="text-2xl mb-4">2Ô∏è‚É£ Configure global settings</h2>
            <article :key="$store.craft.state.mode">
              <div class="bg-neutral-900 border border-neutral-800 rounded-md">
                <div class="bg-neutral-950 p-2 border-b border-neutral-800 rounded-t-md">
                  <h3 class="text-lg flex justify-between">
                    <span>‚öôÔ∏è Global configuration</span>
                    <span class="text-zinc-400" x-text="`@${$store.craft.state.mode}`"></span>
                  </h3>
                </div>
                <div class="bg-black p-2">
                  <pre><code class="language-yaml" x-html="$store.craft.getGlobalConfig()"></code></pre>
                </div>
                <div class="p-2 border-b border-neutral-800">
                  <form x-html="$store.craft.state.edit.global"></form>
                </div>
              </div>
            </article>

            <article x-if="false">
              <div class="bg-neutral-900 border border-neutral-800 rounded-md">
                <div class="bg-neutral-950 p-2 border-b border-neutral-800 rounded-t-md">
                  <h3 class="text-lg flex justify-between">
                    <span>‚öôÔ∏è </span>
                  </h3>
                </div>
                <div class="bg-black p-2">
                  <pre><code class="language-yaml" x-html="$store.craft.getGlobalConfig()"></code></pre>
                </div>
                <div class="p-2 border-b border-neutral-800">
                  <form>
                    <x-schema-inputs x-data="{inputs:presets.schema, path:['presets', 'default'], trim:/^presets\./}"></x-schema-inputs>
                  </form>
                </div>
              </div>
            </article>

          </section>
        </template>

        <!-- Plugins and processors settings -->
        <template x-if="$store.craft.state.mode">
          <section class="container mx-auto px-2 my-8">
            <h2 class="text-2xl mb-4">3Ô∏è‚É£ Configure plugins and processors</h2>
            <!-- Plugins -->
            <template x-for="(plugin, i) of $store.craft.config.plugins">
              <article :data-plugin="i" :key="i" class="grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8 mb-4 lg:mb-8">
                <div class="bg-neutral-900 border border-neutral-800 rounded-md overflow-hidden">
                  <div class="bg-neutral-950 p-2 border-b border-neutral-800 rounded-t-md">
                    <h3 class="text-lg flex justify-between">
                      <span x-text="plugin.name"></span>
                      <div class="text-zinc-400 flex items-center">
                        <span x-text="`#${i}`"></span>
                      </div>
                    </h3>
                    <h4 x-html="await $store.craft.markdown(plugin.description)" class="text-zinc-400"></h4>
                    <h4>
                      <template x-for="{type, value} of [...(plugin.supports.length ? plugin.supports : ['user', 'organization', 'repository']).map(type => ({type})), ...plugin.scopes.map(scope => ({type:'scope', value:scope})), ...plugin.permissions.map(permission => ({type:'permission', value:permission}))]">
                        <div class="inline-flex items-center rounded-full overflow-hidden bg-zinc-600 text-sm mt-1 mr-1" :key="value">
                          <div class="flex items-center bg-zinc-800 px-1.5" >
                            <x-octicon class="mr-1" x-data="{icon:type}"></x-octicon>
                            <span x-text="type"></span>
                          </div>
                          <template x-if="value">
                            <span class="px-1.5" x-text="value"></span>
                          </template>
                        </div>
                      </template>
                    </h4>
                  </div>
                  <nav class="flex gap-2 p-2 border-b border-neutral-800">
                    <div @click="$store.craft.state.edit.plugins = $store.craft.state.edit.plugins === i ? ($store.craft.state.edit.processors = NaN) : i" class="bg-neutral-950 flex items-center rounded-md p-2 text-sm border cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500" :class="{'border-sky-500':($store.craft.state.edit.plugins === i), 'border-transparent':!($store.craft.state.edit.plugins === i)}">
                      <x-octicon class="mr-1" x-data="{icon:'edit'}"></x-octicon>
                      Edit
                    </div>
                    <div @click="$store.craft.renderPlugin({plugin:i})" class="bg-neutral-950 flex items-center rounded-md p-2 text-sm border border-transparent cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500">
                      <x-octicon class="mr-1" x-data="{icon:'render'}"></x-octicon>
                      Render
                    </div>
                    <div @click="$store.craft.removePlugin({plugin:i})" class="bg-neutral-950 flex items-center rounded-md p-2 text-sm border border-transparent cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500">
                      <x-octicon class="mr-1" x-data="{icon:'remove'}"></x-octicon>
                      Remove
                    </div>
                  </nav>
                  <div class="bg-black p-2">
                    <pre><code class="language-yaml" x-html="$store.craft.getPluginConfig({plugin:i})"></code></pre>
                  </div>
                  <template x-if="plugin.docs.length">
                    <div class="p-2 border-b border-neutral-800">
                      <div class="font-bold">Documentations</div>
                      <template x-for="{title, content} in plugin.docs">
                        <details class="bg-neutral-950 rounded-md overflow-hidden">
                          <summary class="flex items-center p-2 font-bold open:rounded-t-md cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500">
                            <x-octicon class="mr-1.5" x-data="{icon:'docs'}"></x-octicon>
                            <span x-text="title"></span>
                          </summary>
                          <div class="markdown bg-black p-2" x-html="await $store.craft.markdown(content)"></div>
                        </details>
                      </template>
                    </div>
                  </template>
                  <div class="p-2 border-b border-neutral-800" :class="{hidden:!($store.craft.state.edit.plugins === i)}">
                    <div class="font-bold">Arguments</div>
                    <template x-if="Object.keys(plugin.inputs.properties).length">
                      <form>
                        <x-schema-inputs x-data="{inputs:plugin.inputs, path:['plugins', i, 'args'], trim:/^plugins\[\d+\]\.args/}" x-init="$nextTick(() => $store.craft.syncValue(path, inputs))"></x-schema-inputs>
                      </form>
                    </template>
                    <template x-if="!Object.keys(plugin.inputs.properties).length">
                      <span class="text-zinc-400 italic">This plugin does not accept any arguments</span>
                    </template>
                  </div>
                  <!-- Processors -->
                  <template x-for="(processor, j) of plugin.processors">
                    <div class="bg-neutral-950 border border-neutral-800 rounded-md m-2" :key="j">
                      <div class="p-2 border-b border-neutral-800 rounded-t-md">
                        <h3 class="text-lg flex justify-between">
                          <span x-text="processor.name"></span>
                          <span class="text-zinc-400">
                            <span x-text="`#${j}`"></span>
                          </span>
                        </h3>
                        <h4 x-html="await $store.craft.markdown(processor.description)" class="text-zinc-400"></h4>
                        <h4 :class="{hidden:!($store.craft.state.edit.plugins === i)}">
                          <template x-for="{type, value} of [...processor.supports.map(type => ({type:'mime', value:type})), ...processor.scopes.map(scope => ({type:'scope', value:scope})), ...processor.permissions.map(permission => ({type:'permission', value:permission}))]">
                            <div class="inline-flex items-center rounded-full overflow-hidden bg-zinc-600 text-sm mt-1 mr-1" :key="value">
                              <div class="flex items-center bg-zinc-800 px-1.5" >
                                <x-octicon class="mr-1" x-data="{icon:type}"></x-octicon>
                                <span x-text="type"></span>
                              </div>
                              <template x-if="value">
                                <span class="px-1.5" x-text="value"></span>
                              </template>
                            </div>
                          </template>
                        </h4>
                      </div>
                      <nav class="flex gap-2 p-2 border-b border-neutral-800" :class="{hidden:!($store.craft.state.edit.plugins === i)}">
                        <div @click="$store.craft.state.edit.processors = $store.craft.state.edit.processors === j ? NaN : j" class="bg-neutral-950 flex items-center rounded-md p-2 text-sm border cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500" :class="{'border-sky-500':($store.craft.state.edit.plugins === i)&&($store.craft.state.edit.processors === j), 'border-transparent':!(($store.craft.state.edit.plugins === i)&&($store.craft.state.edit.processors === j))}">
                          <x-octicon class="mr-1" x-data="{icon:'edit'}"></x-octicon>
                          Edit
                        </div>
                        <div @click="$store.craft.removeProcessor({plugin:i, processor:j})" class="bg-neutral-900 flex items-center rounded-md p-2 text-sm border border-transparent cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500">
                          <x-octicon class="mr-1" x-data="{icon:'remove'}"></x-octicon>
                          Remove
                        </div>
                      </nav>
                      <template x-if="processor.docs.length">
                        <div class="p-2 border-b border-neutral-800">
                          <div class="font-bold">Documentations</div>
                          <template x-for="{title, content} in processor.docs">
                            <details class="bg-neutral-950 rounded-md overflow-hidden">
                              <summary class="flex items-center p-2 font-bold open:rounded-t-md cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500">
                                <x-octicon class="mr-1.5" x-data="{icon:'docs'}"></x-octicon>
                                <span x-text="title"></span>
                              </summary>
                              <div class="markdown bg-black p-2" x-html="await $store.craft.markdown(content)"></div>
                            </details>
                          </template>
                        </div>
                      </template>
                      <div class="p-2 border-b border-neutral-800" :class="{hidden:!(($store.craft.state.edit.plugins === i)&&($store.craft.state.edit.processors === j))}">
                        <div class="font-bold">Arguments</div>
                        <template x-if="Object.keys(processor.inputs.properties).length">
                          <form>
                            <x-schema-inputs x-data="{inputs:processor.inputs, path:['plugins', i, 'processors', j, 'args'], trim:/^plugins\[\d+\]\.processors\[\d+\]\.args/}" x-init="$nextTick(() => $store.craft.syncValue(path, inputs))"></x-schema-inputs>
                          </form>
                        </template>
                        <template x-if="!Object.keys(processor.inputs.properties).length">
                          <span class="text-zinc-400 italic">This processor does not accept any arguments</span>
                        </template>
                      </div>
                    </div>
                  </template>
                  <!-- Add new processor -->
                  <div class="bg-neutral-950 border border-dashed rounded-md m-2 overflow-hidden" :class="{hidden:!($store.craft.state.edit.plugins === i)}">
                    <h3 class="pl-4 py-2 text-lg cursor-pointer rounded-t-md transition hover:bg-neutral-800" @click="$store.craft.state.expand.processors = $store.craft.state.expand.processors === i ? NaN : i">Add a processor</h3>
                    <ul class="px-2 mb-2" :class="{hidden:$store.craft.state.expand.processors !== i}">
                      <template x-for="processor of processors">
                        <li :key="processor.id">
                          <div class="flex items-center justify-between rounded-md text-zinc-400 px-2 py-1 cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500" @click="$store.craft.addProcessor({plugin:i, processor})">
                            <div x-text="processor.name"></div>
                          </div>
                        </li>
                      </template>
                    </ul>
                  </div>
                </div>
                <!-- Preview -->
                <div class="preview relative border border-neutral-800 rounded-md overflow-hidden">
                  <div class="absolute">
                    <img src="" alt="" class="m-2">
                  </div>
                </div>
              </article>
            </template>
            <!-- Add new plugin -->
            <article class="grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8">
              <div class="bg-neutral-900 border border-neutral-800 rounded-md">
                <div class="bg-neutral-950 border border-dashed rounded-md m-2">
                  <h3 class="pl-4 py-2 text-lg cursor-pointer rounded-t-md transition hover:bg-neutral-800" @click="$store.craft.state.expand.plugins = !$store.craft.state.expand.plugins">Add a plugin</h3>
                  <ul class="px-2 mb-2" :class="{hidden:!$store.craft.state.expand.plugins}">
                    <template x-for="plugin of plugins">
                      <li :key="plugin.id">
                        <div class="rounded-md text-zinc-400 px-2 py-1 cursor-pointer transition hover:bg-neutral-800 hover:text-sky-500" @click="$store.craft.addPlugin({plugin})">
                          <div class="flex items-center justify-between">
                            <div x-text="plugin.name"></div>
                            <div class="flex">
                              <template x-for="icon in (plugin.supports.length ? plugin.supports : ['user', 'organization', 'repository'])">
                                <x-octicon class="mr-1" x-data="{icon}" :key="icon"></x-octicon>
                              </template>
                            </div>
                          </div>
                        </div>
                      </li>
                    </template>
                  </ul>
                </div>
              </div>
              <div class="preview border border-neutral-800 rounded-md overflow-hidden"></div>
            </article>
          </section>
        </template>

        <!-- Result -->
        <template x-if="$store.craft.state.mode">
          <section class="container mx-auto px-2 my-8">
            <h2 class="text-2xl mb-4">4Ô∏è‚É£ You're all set!</h2>
            <template x-if="$store.craft.state.mode === 'web'">
              <div>
                <pre class="bg-neutral-900 rounded-md p-2" @click="$store.craft.copyToClipboard($event)"><code class="language-html whitespace-break-spaces" x-html="$store.craft.getFullConfig()"></code></pre>
                <!-- <img :src="$store.craft.getFullConfig()" alt=""/> -->
              </div>
            </template>
            <template x-if="$store.craft.state.mode !== 'web'">
              <div>
                <pre class="bg-neutral-900 rounded-md p-2"><code class="language-yaml" x-html="$store.craft.getFullConfig()"></code></pre>
              </div>
            </template>
          </section>
        </template>
    </main>

    <!-- Footer -->
    <footer class="bg-neutral-900 mt-16">
      <div class="max-w-screen-xl container mx-auto p-4">
        <ul class="flex flex-wrap justify-center gap-8">
          <li>
            <a class="text-zinc-400 transition hover:text-sky-500" href="https://github.com/lowlighter/metrics">
              Source code
            </a>
          </li>
          <li>
            <a class="text-zinc-400 transition hover:text-sky-500" href="https://github.com/lowlighter/metrics/blob/main/LICENSE">
              License
            </a>
          </li>
          <li>
            <a class="text-zinc-400 transition hover:text-sky-500" href="https://github.com/marketplace/actions/metrics-embed">
              GitHub Action
            </a>
          </li>
          <li>
            <a class="text-zinc-400 transition hover:text-sky-500" href="https://github.com/sponsors/lowlighter">
              Sponsor
            </a>
          </li>
        </ul>
      </div>
    </footer>

    <!-- Alpine component: octicon -->
    <template x-component="octicon">
      <div>
        <template x-if="icon === 'github'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg>
        </template>
        <template x-if="icon === 'key'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M10.5 0a5.499 5.499 0 1 1-1.288 10.848l-.932.932a.749.749 0 0 1-.53.22H7v.75a.749.749 0 0 1-.22.53l-.5.5a.749.749 0 0 1-.53.22H5v.75a.749.749 0 0 1-.22.53l-.5.5a.749.749 0 0 1-.53.22h-2A1.75 1.75 0 0 1 0 14.25v-2c0-.199.079-.389.22-.53l4.932-4.932A5.5 5.5 0 0 1 10.5 0Zm-4 5.5c-.001.431.069.86.205 1.269a.75.75 0 0 1-.181.768L1.5 12.56v1.69c0 .138.112.25.25.25h1.69l.06-.06v-1.19a.75.75 0 0 1 .75-.75h1.19l.06-.06v-1.19a.75.75 0 0 1 .75-.75h1.19l1.023-1.025a.75.75 0 0 1 .768-.18A4 4 0 1 0 6.5 5.5ZM11 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>
        </template>
        <template x-if="icon === 'sign-out'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 0 1 0 1.5h-2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 0 1.5h-2.5A1.75 1.75 0 0 1 2 13.25Zm10.44 4.5-1.97-1.97a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.97-1.97H6.75a.75.75 0 0 1 0-1.5Z"></path></svg>
        </template>
        <template x-if="icon === 'menu'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75ZM1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Z"></path></svg>
        </template>
        <template x-if="icon === 'web'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
        </template>
        <template x-if="icon === 'actions'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>
        </template>
        <template x-if="icon === 'server'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M2 7.25A5.225 5.225 0 0 1 7.25 2a5.222 5.222 0 0 1 4.767 3.029A4.472 4.472 0 0 1 16 9.5c0 2.505-1.995 4.5-4.5 4.5h-8A3.474 3.474 0 0 1 0 10.5c0-1.41.809-2.614 2.001-3.17Zm1.54.482a.75.75 0 0 1-.556.832c-.86.22-1.484.987-1.484 1.936 0 1.124.876 2 2 2h8c1.676 0 3-1.324 3-3s-1.324-3-3-3a.75.75 0 0 1-.709-.504A3.72 3.72 0 0 0 7.25 3.5C5.16 3.5 3.5 5.16 3.5 7.25c.002.146.014.292.035.436l.004.036.001.008Z"></path></svg>
        </template>
        <template x-if="icon === 'render'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>
        </template>
        <template x-if="icon === 'remove'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path></svg>
        </template>
        <template x-if="icon === 'edit'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path></svg>
        </template>
        <template x-if="icon === 'scope'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM9.5 6.5c0 .536-.286 1.032-.75 1.3v2.45a.75.75 0 0 1-1.5 0V7.8A1.5 1.5 0 1 1 9.5 6.5Z"></path></svg>
        </template>
        <template x-if="icon === 'permission'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>
        </template>
        <template x-if="icon === 'docs'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path></svg>
        </template>
        <template x-if="icon === 'plus'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path></svg>
        </template>
        <template x-if="icon === 'minus'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M2 7.75A.75.75 0 0 1 2.75 7h10a.75.75 0 0 1 0 1.5h-10A.75.75 0 0 1 2 7.75Z"></path></svg>
        </template>
        <template x-if="icon === 'user'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M10.561 8.073a6.005 6.005 0 0 1 3.432 5.142.75.75 0 1 1-1.498.07 4.5 4.5 0 0 0-8.99 0 .75.75 0 0 1-1.498-.07 6.004 6.004 0 0 1 3.431-5.142 3.999 3.999 0 1 1 5.123 0ZM10.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path></svg>
        </template>
        <template x-if="icon === 'repository'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path></svg>
        </template>
        <template x-if="icon === 'organization'">
          <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path></svg>
        </template>
        <template x-if="icon === 'mime'">
          <svg title="Processed text" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg>
        </template>
        <template x-if="icon === 'any'">
          <svg title="Any" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8.5.75a.75.75 0 0 0-1.5 0v5.19L4.391 3.33a.75.75 0 1 0-1.06 1.061L5.939 7H.75a.75.75 0 0 0 0 1.5h5.19l-2.61 2.609a.75.75 0 1 0 1.061 1.06L7 9.561v5.189a.75.75 0 0 0 1.5 0V9.56l2.609 2.61a.75.75 0 1 0 1.06-1.061L9.561 8.5h5.189a.75.75 0 0 0 0-1.5H9.56l2.61-2.609a.75.75 0 0 0-1.061-1.06L8.5 5.939V.75Z"></path></svg>
        </template>
      </div>
    </template>

    <!-- Alpine component: schema inputs -->
    <template x-component="schema-inputs">
      <div>
        <template x-for="(input, name) in inputs.properties">
          <div x-data="{subpath:[...path, name], id:[...path, name].join('.'), store:$store.craft}" :key="name">
            <label class="block mb-2" :for="id">
              <div class="font-bold">
                <span x-text="store.formatKeyPath(subpath, {trim})"></span>
                <template x-data="{labels:[
                  {key:'format', text:{uri:'url'}[input.format]},
                  {key:'enum', text:'enum'},
                  {key:'const', text:`const: ${input.type === 'string' ? '&quot;' : ''}${input.const}${input.type === 'string' ? '&quot;' : ''}`},
                  {key:'integer', text:'integer'},
                  {key:'exclusiveMinimum', text:`&gt; ${input.exclusiveMinimum}`},
                  {key:'minimum', text:`‚â• ${input.minimum}`},
                  {key:'exclusiveMaximum', text:`&lt; ${input.exclusiveMaximum}`},
                  {key:'maximum', text:`‚â§ ${input.maximum}`},
                ].filter(({key}) => key in input)}" x-for="{key, text} in labels">
                  <span class="rounded-full bg-cyan-100 text-indigo-700 px-1.5 text-sm mr-1 whitespace-nowrap" :key="key"><span x-text="text"></span></span>
                </template>
                <template x-if="(input.type === 'null')">
                  <span class="rounded-full bg-gray-100 text-gray-700 px-1.5 text-sm mr-1 whitespace-nowrap">null</span>
                </template>
              </div>
              <template x-if="(!input.subtype)&&(input.description)">
                <div class="text-zinc-400 italic" x-html="await $store.craft.markdown(input.description.replace('(textarea)', '').replace(/\(placeholder: `[\s\S]+`\)/, ''))"></div>
              </template>
            </label>
            <!-- String input -->
            <template x-if="(input.type === 'string')&&(!input.enum)&&(!input.const)">
              <div>
                <template x-if="input.description?.includes('(textarea)')">
                  <textarea :name="id" :id="id" :value="input.default" :placeholder="input.description?.match(/\((?:(?:e\.g\.)|(?:placeholder:)) `([\s\S]+)`\)/)?.[1] ?? input.default ?? ''" class="w-full bg-neutral-950 rounded-md px-3 py-1.5 border border-neutral-800 outline-none focus:border-sky-500 min-h-[4em]" @input="store.setValue(subpath, $event)"></textarea>
                </template>
                <template x-if="!input.description?.includes('(textarea)')">
                  <input :type="{uri:'url'}[input.format] ?? 'text'" :name="id" :id="id" :value="input.default" :pattern="input.pattern || '[\\s\\S]+'" :placeholder="input.description?.match(/\((?:(?:e\.g\.)|(?:placeholder:)) `([\s\S]+)`\)/)?.[1] ?? input.default ?? ''" class="w-full bg-neutral-950 rounded-md px-3 py-1.5 border border-neutral-800 outline-none focus:border-sky-500" @input="store.setValue(subpath, $event)"/>
                </template>
              </div>
            </template>
            <!-- Number input -->
            <template x-if="(input.type === 'number')||(input.type === 'integer')">
              <input type="number" :name="id" :id="id" :value="input.default ?? input.description?.match(/\(e\.g\. ([\s\S]+)\)/)?.[1] ?? input.minimum ?? input.maximum ?? ('exclusiveMinimum' in input ? input.exclusiveMinimum + 1 : null) ?? ('exclusiveMaximum' in input ? input.exclusiveMaximum - 1 : null) ?? 0" :placeholder="input.default ?? ''" :min="'exclusiveMinimum' in input ? input.exclusiveMinimum + 1 : input.minimum" :max="'exclusiveMaximum' in input ? input.exclusiveMaximum - 1 : input.maximum" class="w-full bg-neutral-950 rounded-md px-3 py-1.5 border border-neutral-800 outline-none focus:border-sky-500" @input="store.setValue(subpath, $event)"/>
            </template>
            <!-- Boolean input -->
            <template x-if="(input.type === 'boolean')&&(!('const' in input))">
              <label :for="id" class="inline-block relative h-6 w-12 cursor-pointer">
                <input type="checkbox" :name="id" :id="id" class="peer hidden" @input="store.setValue(subpath, $event)"/>
                <span class="absolute inset-0 rounded-full bg-neutral-700 transition peer-checked:bg-sky-500"></span>
                <span class="absolute inset-y-0 start-0 m-1 h-4 w-4 rounded-full bg-white transition-all peer-checked:start-6"></span>
              </label>
            </template>
            <!-- Object input -->
            <template x-if="(input.type === 'object')">
              <div class="w-full p-2 rounded-md border border-neutral-800">
                <x-schema-inputs class="w-full" x-data="{inputs:input, path:subpath, trim}"></x-schema-inputs>
                <!-- Record inputs /TODO/ -->
                <template x-if="input.additionalProperties">
                  <div>
                    üöß Not supported yet
                    <span x-text="JSON.stringify(input.additionalProperties, null, 2)"></span>
                  </div>
                </template>
              </div>
            </template>
            <!-- Array input -->
            <template x-if="(input.type === 'array')">
              <div class="w-full p-2 rounded-md border border-neutral-800" x-init="store.setCachedValue(subpath, {target:{value:input.default}})">
                <!-- String array input -->
                <template x-if="input.items.type === 'string'">
                  <div x-data="{min:input.minItems ?? 0, max:input.maxItems ?? Infinity, editable:!(('minItems' in input)&&('maxItems' in input)&&(input.minItems === input.maxItems))}">
                    <template x-for="(value, k) in store.state.cached.inputs[id]">
                      <div class="flex">
                        <input type="text" :key="k" :name="id" :id="`${id}@${k}`" x-model="store.state.cached.inputs[id][k]" class="grow bg-neutral-950 rounded-md px-3 py-1.5 border border-neutral-800 outline-none focus:border-sky-500" @input="store.setValue(subpath, $event, {cached:true})">
                        <template x-if="editable">
                          <div class="bg-red-950 flex items-center rounded-md p-2 border border-neutral-800 cursor-pointer transition hover:bg-red-800" :class="{'opacity-50':(min > store.state.cached.inputs[id].length-1)}" @click="store.state.cached.inputs[id].splice(k, 1)">
                            <x-octicon class="text-white" x-data="{icon:'minus'}"></x-octicon>
                          </div>
                        </template>
                      </div>
                    </template>
                    <template x-if="editable">
                      <div class="flex">
                        <input type="text" placeholder="Add a new value" disabled class="opacity-50 grow bg-neutral-950 rounded-md px-3 py-1.5 border border-neutral-800 outline-none focus:border-sky-500" @input="store.setValue(subpath, $event, {cached:true})">
                        <div class="bg-green-950 flex items-center rounded-md p-2 border border-neutral-800 cursor-pointer transition hover:bg-green-800" :class="{'opacity-50':(store.state.cached.inputs[id].length+1 > max)}" @click="store.state.cached.inputs[id].push('')">
                          <x-octicon class="text-white" x-data="{icon:'plus'}"></x-octicon>
                        </div>
                      </div>
                    </template>
                  </div>
                </template>
                <!-- Enum array input -->
                <template x-if="(input.items.anyOf)&&(input.items.anyOf.every(item => item.const))">
                  <fieldset>
                    <template x-for="(item, k) in input.items.anyOf">
                      <div class="mb-1" :key="item.const">
                        <input type="checkbox" :name="id" :id="`${id}@${item.const}`" :value="item.const" class="peer hidden" @input="store.setValue(subpath, $event, {cached:true})"/>
                        <label :for="`${id}@${item.const}`" class="block border border-neutral-800 rounded-md px-3 py-1.5 cursor-pointer text-zinc-400 transition hover:bg-neutral-800 peer-checked:border-sky-500 peer-checked:text-sky-500">
                          <div class="text-white" x-text="item.const"></div>
                          <div class="text-zinc-400 italic" x-html="await $store.craft.markdown(item.description)"></div>
                        </label>
                      </div>
                    </template>
                  </fieldset>
                </template>
              </div>
            </template>
            <!-- Enum input -->
            <template x-if="(input.anyOf)&&(input.anyOf.every(item => item.const))">
              <fieldset>
                <template x-for="(item, k) in input.anyOf">
                  <div class="mb-1" :key="item.const">
                    <input type="radio" :name="id" :id="`${id}@${item.const}`" :value="item.const" class="peer hidden" @input="store.setValue(subpath, $event)"/>
                    <label :for="`${id}@${item.const}`" class="block border border-neutral-800 rounded-md px-3 py-1.5 cursor-pointer text-zinc-400 transition hover:bg-neutral-800 peer-checked:border-sky-500 peer-checked:text-sky-500">
                      <div class="text-white" x-text="item.const"></div>
                      <div class="text-zinc-400 italic" x-html="await $store.craft.markdown(item.description)"></div>
                    </label>
                  </div>
                </template>
              </fieldset>
            </template>
            <!-- Const input -->
            <template x-if="(input.type === 'string')&&(!input.enum)&&(input.const)">
              <input type="hidden" :name="id" :id="id" :value="input.const" @input="store.setValue(subpath, $event)"/>
            </template>
            <!-- Null input -->
            <template x-if="(input.type === 'null')">
              <input type="hidden" :name="id" :id="id" value="null" @input="store.setValue(subpath, {target:{value:null}})"/>
            </template>
            <!-- Multi-type inputs (anyOf) -->
            <template x-if="(input.anyOf)&&(!input.anyOf.every(item => item.const))">
              <fieldset>
                <template x-for="(value, i) of input.anyOf">
                  <div class="mb-1" :key="i" @click="store.setValue([...path, `${name}@${i}`], {target:document.getElementById(`${id}@${i}`)}, {anyof:true})">
                    <input type="radio" :name="id" :id="`${id}@${i}`" :value="i" class="anyof peer hidden"/>
                    <label :for="`${id}@${i}`" class="block border border-dashed rounded-md px-3 py-1.5 cursor-pointer transition hover:border-sky-500 peer-checked:border-sky-500 peer-checked:border-solid">
                      <x-schema-inputs class="w-full" x-data="{inputs:{properties:{[name]:value}}, path:[...path, `${name}@${i}`], trim}"></x-schema-inputs>
                    </label>
                  </div>
                </template>
              </fieldset>
            </template>
            <!-- Multi-type inputs (primitive array) -->
            <template x-if="(Array.isArray(input.type))">
              <fieldset>
                <template x-for="(type, i) of input.type">
                  <div class="mb-1" :key="i" @click="store.setValue([...path, `${name}@${i}`], {target:document.getElementById(`${id}@${i}`)}, {anyof:true})">
                    <input type="radio" :name="id" :id="`${id}@${i}`" :value="i" class="anyof peer hidden"/>
                    <label :for="`${id}@${i}`" class="block border border-dashed rounded-md px-3 py-1.5 cursor-pointer transition hover:border-sky-500 peer-checked:border-sky-500 peer-checked:border-solid">
                      <x-schema-inputs class="w-full" x-data="{inputs:{properties:{[name]:{...input, type, subtype:true, default:typeof input.default === type ? input.default : null}}}, path:[...path, `${name}@${i}`], trim}"></x-schema-inputs>
                    </label>
                  </div>
                </template>
              </fieldset>
            </template>
          </div>
        </template>
      </div>
    </template>

    <script src="/static/app.js" type="module"></script>
  </body>
</html>